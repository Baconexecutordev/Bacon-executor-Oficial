<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bacon Executor Official</title>
  <style>
    :root{
      --bg:#000;
      --card:#0f1720;
      --muted:#bfc7d4;
      --accent:#ffd400;
      --blue:#3db7ff;
      --glass: rgba(255,255,255,0.03);
      --warning:#ff8a00;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, Roboto, Arial, sans-serif;background:var(--bg);color:#fff;overflow-x:hidden}
    #bgCanvas{position:fixed;inset:0;z-index:0;display:block}
    .site{position:relative;z-index:2;max-width:1150px;margin:12px auto;padding:0 20px 40px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
    .logo img{width:36px;height:36px;border-radius:6px;object-fit:cover;border:2px solid rgba(255,255,255,0.04)}
    .brand{font-weight:900;font-size:18px;color:#fff}

    .hero-wrap{display:flex;justify-content:center;align-items:center;margin:18px 0}
    .hero{max-width:980px;width:100%;display:flex;gap:18px;align-items:center;padding:18px;border-radius:12px;background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.01));box-shadow:0 8px 30px rgba(0,0,0,0.6);backdrop-filter: blur(4px);border:1px solid rgba(255,255,255,0.03)}
    .preview{flex:0 0 150px;border-radius:8px;overflow:hidden;background:#000;padding:6px;display:flex;align-items:center;justify-content:center}
    .preview img{width:140px;height:auto;display:block}
    .hero-info{flex:1;display:flex;flex-direction:column;gap:10px}
    .hero h1{margin:0;font-size:22px}
    .version{color:var(--muted);font-weight:600}
    .btns{display:flex;gap:12px;flex-wrap:wrap}
    .btn-download-big{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:16px 30px;border-radius:12px;background:var(--accent);color:#000;border:none;font-weight:900;font-size:18px;cursor:pointer;text-decoration:none}
    .btn-download-secondary{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;background:rgba(255,255,255,0.04);color:#fff;border:1px solid rgba(255,255,255,0.06);font-weight:800;cursor:pointer;text-decoration:none}

    .status-warning{
      margin-top:10px;
      padding:10px 12px;
      border-radius:8px;
      background:linear-gradient(90deg, rgba(255,138,0,0.06), rgba(255,255,255,0.01));
      border:1px solid rgba(255,138,0,0.12);
      color:var(--warning);
      font-weight:800;
      font-size:14px;
    }

    .scroll-messages{margin:22px 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .msg{background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.01));padding:14px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .terms-section{margin:18px 0}
    .terms-title{color:var(--muted);font-weight:800;margin-bottom:10px}
    .terms-row{display:flex;gap:12px;overflow-x:auto;padding-bottom:8px;-webkit-overflow-scrolling:touch}
    .term-card{flex:0 0 210px;background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.01));padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);min-height:100px;display:flex;flex-direction:column;gap:8px}
    .term-header{display:flex;align-items:center;gap:8px;font-weight:800}
    .term-num{background:rgba(255,255,255,0.04);padding:6px 8px;border-radius:6px;font-weight:900}
    .term-body{color:var(--muted);font-size:13px;line-height:1.35}

    .downloads{margin:18px 0;border-radius:8px;overflow:hidden}
    .dl-item{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:var(--card);border-bottom:1px solid rgba(255,255,255,0.03)}
    .dl-left{display:flex;align-items:center;gap:12px}
    .dl-meta h5{margin:0;font-size:15px}
    .dl-sub{margin-top:6px;color:var(--muted);font-size:13px}
    .dl-warning{margin-top:8px;color:var(--warning);font-weight:800;font-size:13px}
    .btn-abaixar{background:var(--accent);color:#000;padding:10px 14px;border-radius:8px;font-weight:800;text-decoration:none;border:none;cursor:pointer}

    .stats-row{display:flex;gap:16px;align-items:stretch;flex-wrap:wrap;margin-top:18px}
    .stat-card{flex:1 1 320px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.03);padding:18px;border-radius:10px;text-align:center}
    .stat-card h2{margin:0 0 10px 0;font-size:18px}
    .stat-number{font-size:40px;font-weight:900;color:var(--accent);margin-bottom:6px}
    .stat-sub{color:var(--muted);font-size:13px}
    .follow-note{margin-top:14px;padding:14px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.03);text-align:center;font-weight:700}

    footer{margin:24px 0;color:var(--muted);font-size:13px;text-align:center}

    @media(min-width:1300px){ .term-card{flex:0 0 calc((100% - 48px)/5);} }
    @media(max-width:720px){ .hero{flex-direction:column;align-items:center} .preview{order:-1} .btn-download-big{width:100%} .stats-row{flex-direction:column} }
    .terms-row::-webkit-scrollbar{height:8px}
    .terms-row::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06);border-radius:8px}
  </style>
</head>
<body>
  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <div class="site" role="main">
    <header>
      <a class="logo" href="#" aria-label="Bacon Executor Official">
        <img id="logoImg" src="https://i.ibb.co/Hf1V7Tnw/f7c9ab999ca34dfe93c41c1ecc412083.jpg" alt="Logo Bacon executor">
      </a>
      <div class="brand">Bacon Executor Official</div>
    </header>

    <main>
      <div class="hero-wrap">
        <div class="hero" role="region" aria-label="√Årea de download principal">
          <div class="preview">
            <img id="executorPreview" src="https://i.ibb.co/ycX2Fcpk/2026-01-20-1.png" alt="Preview do Bacon executor">
          </div>

          <div class="hero-info">
            <h1>Bacon Executor <span class="version">V2.0.5</span></h1>

            <div class="btns">
              <a id="mainDownload" class="btn-download-big" href="#" role="button">Baixar Bacon executor <small style="margin-left:8px;font-weight:800;color:#222">V2.0.5</small></a>
              <a id="secondaryDownload" class="btn-download-secondary" href="#">Baixar (Mirror)</a>
            </div>

            <!-- Warning text shown directly below the two buttons -->
            <div class="status-warning" id="executorStatus">
              O executor n√£o esta funcionando no momento pois a api esta em Reparo!!
            </div>

            <div class="notes">Vers√£o: <strong>V2.0.5</strong> ‚Ä¢ Interface gr√°fica ‚Ä¢ Suporte a scripts</div>
          </div>
        </div>
      </div>

      <section class="scroll-messages" id="messages">
        <div class="msg"><h4>N√£o tem v√≠rus</h4><p>Arquivo verificado por voc√™ ‚Äî recomendamos sempre usar fontes confi√°veis.</p></div>
        <div class="msg"><h4>Super Bom</h4><p>Testado em v√°rias m√°quinas; resultados dependem do sistema. Use por sua conta e risco.</p></div>
        <div class="msg"><h4>Recomendado baixar</h4><p>Leia as instru√ß√µes antes de prosseguir. Fa√ßa backup do seu sistema.</p></div>
      </section>

      <section class="terms-section" aria-label="Avisos e termos">
        <div class="terms-title">üìå Avisos e Termos importantes (leia antes de baixar)</div>

        <div class="terms-row" id="termsTop">
          <div class="term-card" data-index="1">
            <div class="term-header"><div class="term-num">1Ô∏è‚É£</div><div class="term-emoji">üö´</div><div style="flex:1">Uso por sua conta e risco</div></div>
            <div class="term-body">Ao utilizar este executor, voc√™ assume total responsabilidade por qualquer consequ√™ncia, incluindo banimento de conta ou perda de dados.</div>
          </div>

          <div class="term-card" data-index="2">
            <div class="term-header"><div class="term-num">2Ô∏è‚É£</div><div class="term-emoji">ü¶†</div><div style="flex:1">Poss√≠veis falsos positivos</div></div>
            <div class="term-body">Antiv√≠rus podem detectar o executor como amea√ßa falsa (false positive) por causa da inje√ß√£o de c√≥digo. Isso n√£o significa automaticamente que seja v√≠rus.</div>
          </div>

          <div class="term-card" data-index="3">
            <div class="term-header"><div class="term-num">3Ô∏è‚É£</div><div class="term-emoji">‚ùó</div><div style="flex:1">N√£o √© 100% seguro</div></div>
            <div class="term-body">Nenhum executor √© totalmente seguro. Sempre existe risco ao utilizar ferramentas desse tipo.</div>
          </div>

          <div class="term-card" data-index="4">
            <div class="term-header"><div class="term-num">4Ô∏è‚É£</div><div class="term-emoji">üë§</div><div style="flex:1">Conta secund√°ria recomendada</div></div>
            <div class="term-body">Use apenas em contas alternativas. N√£o nos responsabilizamos por banimentos em conta principal.</div>
          </div>

          <div class="term-card" data-index="5">
            <div class="term-header"><div class="term-num">5Ô∏è‚É£</div><div class="term-emoji">üìå</div><div style="flex:1">Responsabilidade do usu√°rio</div></div>
            <div class="term-body">O desenvolvedor n√£o obriga ningu√©m a usar este software. O uso √© opcional e consciente.</div>
          </div>
        </div>

        <div class="terms-row" id="termsBottom" style="margin-top:12px">
          <div class="term-card" data-index="6">
            <div class="term-header"><div class="term-num">6Ô∏è‚É£</div><div class="term-emoji">üîó</div><div style="flex:1">Fonte oficial apenas</div></div>
            <div class="term-body">üîó Baixe somente pelo site oficial.<br/>‚ùå N√£o utilize arquivos modificados ou redistribu√≠dos por terceiros.</div>
          </div>

          <div class="term-card" data-index="7">
            <div class="term-header"><div class="term-num">7Ô∏è‚É£</div><div class="term-emoji">üîÑ</div><div style="flex:1">Atualiza√ß√µes podem quebrar o executor</div></div>
            <div class="term-body">üîÑ Atualiza√ß√µes do Roblox ou do Windows podem causar falhas tempor√°rias.</div>
          </div>

          <div class="term-card" data-index="8">
            <div class="term-header"><div class="term-num">8Ô∏è‚É£</div><div class="term-emoji">‚öôÔ∏è</div><div style="flex:1">Sem garantia de funcionamento</div></div>
            <div class="term-body">‚öôÔ∏è O executor pode n√£o funcionar em todos os PCs, vers√µes do Windows ou builds do Roblox.</div>
          </div>

          <div class="term-card" data-index="9">
            <div class="term-header"><div class="term-num">9Ô∏è‚É£</div><div class="term-emoji">üîí</div><div style="flex:1">Nenhuma coleta de dados pessoais</div></div>
            <div class="term-body">üîí Este software n√£o coleta senhas, cookies ou dados pessoais (desde que baixado da fonte oficial).</div>
          </div>

          <div class="term-card" data-index="10">
            <div class="term-header"><div class="term-num">üîü</div><div class="term-emoji">‚úÖ</div><div style="flex:1">Aceita√ß√£o autom√°tica</div></div>
            <div class="term-body">‚úÖ Ao executar o programa, voc√™ declara que leu e concorda com todos os avisos acima.</div>
          </div>
        </div>
      </section>

      <section class="downloads" id="downloadsList" aria-label="Lista de downloads"></section>

      <div class="stats-row" aria-hidden="false">
        <div class="stat-card" id="downloadsCard" role="region" aria-label="Contador de downloads">
          <h2>Downloads confirmados</h2>
          <div class="stat-number" id="downloadCount">0</div>
          <div class="stat-sub" id="downloadMeta">Contagem registrada localmente. Clique em "Baixar" para incrementar.</div>
        </div>

        <div class="stat-card" id="viewsCard" role="region" aria-label="Contador de visualiza√ß√µes">
          <h2>Visualiza√ß√µes no site</h2>
          <div class="stat-number" id="viewsCount">0</div>
          <div class="stat-sub" id="viewsMeta">Visitas √∫nicas (armazenadas localmente por 24h).</div>
        </div>
      </div>

      <div class="follow-note" id="followNote">
        Me Siga no roblox e OlhadinhaSo ‚Äî Quero muito chegar em 100 Seguidores. Seria meu sonho üòî
      </div>

      <footer>
        Dica de seguran√ßa: hospede seus arquivos em HTTPS e informe riscos aos usu√°rios.
      </footer>
    </main>
  </div>

  <script>
    // change displayed path (optional)
    try { history.replaceState(null, 'Bacon Executor Official', '/Bacon-Executor-Official'); } catch(e){}

    // Download & views config (keeps previous behavior)
    const MEDIAFIRE_LINK = 'https://www.mediafire.com/file/ciafqqftgxqbq4z/Bacon+executor.rar/file';
    const DISPLAY_NAME = 'Bacon_executor_v2.0.5.rar';
    const DISPLAY_SUB = 'Uso sob responsabilidade do usu√°rio';
    const DOWNLOADS = [{ name: DISPLAY_NAME, version: 'V2.0.5', url: MEDIAFIRE_LINK }];

    // render downloads list and add dl-warning under each button
    const downloadsListEl = document.getElementById('downloadsList');
    function renderDownloads(){
      downloadsListEl.innerHTML = '';
      for(const dl of DOWNLOADS){
        const item = document.createElement('div'); item.className = 'dl-item';
        const left = document.createElement('div'); left.className='dl-left';
        const meta = document.createElement('div'); meta.className='dl-meta';
        const title = document.createElement('h5'); title.textContent = dl.name;
        const sub = document.createElement('div'); sub.className = 'dl-sub'; sub.textContent = DISPLAY_SUB;
        meta.appendChild(title); meta.appendChild(sub); left.appendChild(meta);

        const actions = document.createElement('div'); actions.className='dl-actions';
        const aBtn = document.createElement('a'); aBtn.className='btn-abaixar'; aBtn.textContent='Baixar'; aBtn.href=dl.url; aBtn.target='_blank'; aBtn.rel='noopener noreferrer';
        aBtn.addEventListener('click', () => incrementDownloads(1));
        actions.appendChild(aBtn);

        // same status text under each download entry
        const warn = document.createElement('div');
        warn.className = 'dl-warning';
        warn.textContent = 'O executor n√£o esta funcionando no momento pois a api esta em Reparo!!';

        item.appendChild(left); item.appendChild(actions);
        item.appendChild(warn);
        downloadsListEl.appendChild(item);
      }
    }
    renderDownloads();

    // hero buttons link + increment
    const mainDownloadBtn = document.getElementById('mainDownload');
    const secondaryBtn = document.getElementById('secondaryDownload');
    if (DOWNLOADS.length){
      mainDownloadBtn.href = DOWNLOADS[0].url; mainDownloadBtn.target='_blank'; mainDownloadBtn.rel='noopener noreferrer';
      secondaryBtn.href = DOWNLOADS[0].url; secondaryBtn.target='_blank'; secondaryBtn.rel='noopener noreferrer';
      mainDownloadBtn.addEventListener('click', ()=> incrementDownloads(1));
      secondaryBtn.addEventListener('click', ()=> incrementDownloads(1));
    }

    // counters (localStorage)
    const STORAGE_KEY = 'bacon_executor_downloads_total_v1';
    const STORAGE_TS_KEY = 'bacon_executor_downloads_last_ts_v1';
    const VIEWS_KEY = 'bacon_executor_views_total_v1';
    const VIEWS_TS_KEY = 'bacon_executor_views_last_visit_v1';

    const countEl = document.getElementById('downloadCount');
    const metaEl = document.getElementById('downloadMeta');
    const viewsEl = document.getElementById('viewsCount');
    const viewsMetaEl = document.getElementById('viewsMeta');

    function readDownloads() {
      const raw = localStorage.getItem(STORAGE_KEY);
      const n = raw ? parseInt(raw, 10) : 0;
      const ts = localStorage.getItem(STORAGE_TS_KEY);
      return { n: isNaN(n) ? 0 : n, ts: ts ? new Date(ts) : null };
    }
    function writeDownloads(n, ts = null) {
      localStorage.setItem(STORAGE_KEY, String(n));
      if (ts) localStorage.setItem(STORAGE_TS_KEY, ts.toISOString());
      updateDownloadUI();
    }
    function incrementDownloads(delta = 1) {
      try {
        const state = readDownloads();
        const newCount = state.n + delta;
        const now = new Date();
        writeDownloads(newCount, now);
        pulse(countEl);
      } catch (e) { console.warn('Erro ao incrementar contador:', e); }
    }
    function updateDownloadUI() {
      const state = readDownloads();
      countEl.textContent = state.n.toLocaleString();
      if (state.ts) metaEl.textContent = `√öltimo download: ${state.ts.toLocaleString()}. Contagem registrada localmente neste navegador.`;
      else metaEl.textContent = 'Contagem registrada localmente. Clique em "Baixar" para incrementar.';
    }

    function readViews() {
      const raw = localStorage.getItem(VIEWS_KEY);
      const n = raw ? parseInt(raw, 10) : 0;
      const last = localStorage.getItem(VIEWS_TS_KEY);
      return { n: isNaN(n) ? 0 : n, last: last ? new Date(last) : null };
    }
    function writeViews(n, last = null) {
      localStorage.setItem(VIEWS_KEY, String(n));
      if (last) localStorage.setItem(VIEWS_TS_KEY, last.toISOString());
      updateViewsUI();
    }
    function shouldCountView() {
      const s = readViews();
      if (!s.last) return true;
      const diffMs = Date.now() - s.last.getTime();
      const hours = diffMs / (1000 * 60 * 60);
      return hours >= 24;
    }
    function incrementViewsIfNeeded() {
      try {
        if (shouldCountView()) {
          const s = readViews();
          const newCount = s.n + 1;
          writeViews(newCount, new Date());
          pulse(viewsEl);
        } else updateViewsUI();
      } catch (e) { console.warn('Erro ao incrementar views:', e); updateViewsUI(); }
    }
    function updateViewsUI() {
      const s = readViews();
      viewsEl.textContent = s.n.toLocaleString();
      if (s.last) viewsMetaEl.textContent = `√öltima visita registrada: ${s.last.toLocaleString()} (√∫nica por 24h neste navegador).`;
      else viewsMetaEl.textContent = 'Visitas √∫nicas (armazenadas localmente por 24h).';
    }
    function pulse(el){
      el.animate([{ transform: 'scale(1)', opacity: 1 },{ transform: 'scale(1.12)', opacity: 1 },{ transform: 'scale(1)', opacity: 1 }], { duration: 360, easing: 'cubic-bezier(.2,.9,.2,1)' });
    }

    updateDownloadUI();
    incrementViewsIfNeeded();

    // PARTICLES: small/medium/large blue particles with bounce (keeps previous implementation)
    const canvasEl = document.getElementById('bgCanvas');
    const ctxEl = canvasEl.getContext('2d', { alpha: true });

    function resizeCanvas() {
      canvasEl.width = innerWidth;
      canvasEl.height = innerHeight;
    }
    addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const TYPE_CONFIG = {
      small: { minR: 2, maxR: 6, speed: [0.6, 1.6], weight: 0.62 },
      medium:{ minR: 8, maxR: 14, speed: [0.45, 1.1], weight: 0.28 },
      large: { minR: 18, maxR: 34, speed: [0.25, 0.7], weight: 0.10 }
    };
    const AREA = canvasEl.width * canvasEl.height;
    const DENSITY = 20000;
    let TOTAL_PARTICLES = Math.max(40, Math.round(AREA / DENSITY));
    TOTAL_PARTICLES = Math.min(TOTAL_PARTICLES, 160);

    function pickType() {
      let r = Math.random() * (TYPE_CONFIG.small.weight + TYPE_CONFIG.medium.weight + TYPE_CONFIG.large.weight);
      if (r < TYPE_CONFIG.small.weight) return 'small';
      r -= TYPE_CONFIG.small.weight;
      if (r < TYPE_CONFIG.medium.weight) return 'medium';
      return 'large';
    }

    const particles = [];
    function rand(min,max){ return min + Math.random()*(max-min); }

    function createParticle(i){
      const type = pickType();
      const cfg = TYPE_CONFIG[type];
      const r = rand(cfg.minR, cfg.maxR);
      const speed = rand(cfg.speed[0], cfg.speed[1]);
      const angle = Math.random() * Math.PI * 2;
      return {
        id: i,
        type,
        x: rand(r+4, canvasEl.width - r - 4),
        y: rand(r+4, canvasEl.height - r - 4),
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        r,
        baseR: r,
        alpha: rand(0.35, 0.95),
        hitAt: 0,
        rot: rand(0, Math.PI*2),
        rotSpeed: rand(-0.01,0.01)
      };
    }

    function initParticles(){
      particles.length = 0;
      for (let i=0;i<TOTAL_PARTICLES;i++) particles.push(createParticle(i));
    }
    initParticles();

    const BLUE = [61,183,255];
    const HIT_DURATION = 200;

    function drawParticles(){
      const W = canvasEl.width, H = canvasEl.height;
      const g = ctxEl.createLinearGradient(0,0,0,H);
      g.addColorStop(0,'rgba(4,8,16,0.95)');
      g.addColorStop(1,'rgba(0,0,0,0.95)');
      ctxEl.fillStyle = g;
      ctxEl.fillRect(0,0,W,H);

      const now = Date.now();

      for (const p of particles) {
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.rotSpeed;

        let bounced = false;
        if (p.x - p.r <= 0) { p.x = p.r + 1; p.vx = Math.abs(p.vx); bounced = true; }
        else if (p.x + p.r >= W) { p.x = W - p.r - 1; p.vx = -Math.abs(p.vx); bounced = true; }
        if (p.y - p.r <= 0) { p.y = p.r + 1; p.vy = Math.abs(p.vy); bounced = true; }
        else if (p.y + p.r >= H) { p.y = H - p.r - 1; p.vy = -Math.abs(p.vy); bounced = true; }
        if (bounced) p.hitAt = now;

        ctxEl.save();
        ctxEl.translate(p.x, p.y);

        const t = now - p.hitAt;
        const hitFactor = (t > 0 && t < HIT_DURATION) ? 1 + 0.35 * (1 - t / HIT_DURATION) : 1;
        const drawR = p.baseR * hitFactor;

        const glow = ctxEl.createRadialGradient(0,0,drawR*0.2, 0,0, drawR*2.3);
        const glowAlpha = 0.18 + 0.25 * (p.type === 'large' ? 1 : (p.type === 'medium' ? 0.6 : 0.35));
        glow.addColorStop(0, `rgba(${BLUE[0]},${BLUE[1]},${BLUE[2]},${glowAlpha})`);
        glow.addColorStop(1, 'rgba(0,0,0,0)');
        ctxEl.fillStyle = glow;
        ctxEl.beginPath();
        ctxEl.arc(0,0,drawR*2.3,0,Math.PI*2);
        ctxEl.fill();

        const grad = ctxEl.createRadialGradient(-drawR*0.2, -drawR*0.25, drawR*0.08, 0,0, drawR);
        grad.addColorStop(0, `rgba(${BLUE[0]},${BLUE[1]},${BLUE[2]},0.98)`);
        grad.addColorStop(1, `rgba(${BLUE[0]},${BLUE[1]},${BLUE[2]},0.85)`);
        ctxEl.fillStyle = grad;
        ctxEl.beginPath();
        ctxEl.arc(0,0, drawR, 0, Math.PI*2);
        ctxEl.fill();

        ctxEl.beginPath();
        ctxEl.fillStyle = 'rgba(255,255,255,0.14)';
        ctxEl.ellipse(-drawR*0.28, -drawR*0.32, Math.max(1, drawR*0.22), Math.max(1, drawR*0.12), p.rot, 0, Math.PI*2);
        ctxEl.fill();

        ctxEl.beginPath();
        ctxEl.strokeStyle = `rgba(255,255,255,0.035)`;
        ctxEl.lineWidth = Math.max(0.4, drawR*0.06);
        ctxEl.arc(0,0,drawR,0,Math.PI*2);
        ctxEl.stroke();

        ctxEl.restore();
      }

      const maxConnectDist = 220;
      for (let i=0;i<particles.length;i++){
        const a = particles[i];
        if (a.type === 'small') continue;
        for (let j=i+1;j<particles.length;j++){
          const b = particles[j];
          if (b.type === 'small') continue;
          const dx = a.x - b.x, dy = a.y - b.y;
          const d2 = dx*dx + dy*dy;
          if (d2 < maxConnectDist*maxConnectDist){
            const alpha = 0.06 * (1 - d2 / (maxConnectDist*maxConnectDist));
            ctxEl.beginPath();
            ctxEl.strokeStyle = `rgba(${BLUE[0]},${BLUE[1]},${BLUE[2]},${alpha})`;
            ctxEl.lineWidth = 0.8;
            ctxEl.moveTo(a.x, a.y);
            ctxEl.lineTo(b.x, b.y);
            ctxEl.stroke();
          }
        }
      }

      requestAnimationFrame(drawParticles);
    }

    addEventListener('resize', () => {
      const area = canvasEl.width * canvasEl.height;
      TOTAL_PARTICLES = Math.max(40, Math.round(area / DENSITY));
      TOTAL_PARTICLES = Math.min(TOTAL_PARTICLES, 160);
      initParticles();
    });

    drawParticles();

    // ensure UI sync across tabs
    window.addEventListener('storage', () => { updateDownloadUI(); updateViewsUI(); });

    console.info('Part√≠culas (small/medium/large) em funcionamento.');
  </script>
</body>
</html>